http://www.importnew.com/26177.html
批处理是一种处理模式，它涉及一系列自动复杂作业的执行而无需用户交互。批处理过程处理批量数据并运行很长时间。
一些企业应用程序需要处理大量数据来执行操作，涉及
* 基于时间的事件，如周期性计算。
* 在大型数据集上重复处理的定期应用程序。
* 处理和验证交易方式中可用数据的应用程序。
因此，批处理在企业应用程序中用于执行此类事务。

在大型的企业应用中，或多或少都会存在大量的任务需要处理，如邮件批量通知所有将要过期的会员等等。
而在批量处理任务的过程中，又需要注意很多细节，如任务异常、性能瓶颈等等。那么，使用一款优秀的框架总比我们自己重复地造轮子要好得多一些。
我所在的物联网云平台部门就有这么一个需求，需要实现批量下发命令给百万设备。为了防止枯燥乏味，下面就让我们先通过Spring Batch框架简单地实现一下这个功能，再来详细地介绍这款框架！


# 什么是Spring批处理
Spring批处理是一个轻量级框架，用于开发在企业应用程序中使用的批处理应用程序。
除了批量处理外，该框架还提供以下功能
* 包括日志和跟踪
* 交易管理
* 作业处理统计
* 作业重启
* 跳过和资源管理
* 您还可以使用其分割技术缩放弹簧批量应用程序。

# Spring Batch的特点
以下是Spring Batch的显着特点 -
灵活性 - Spring批处理应用程序非常灵活。您只需更改XML文件即可更改应用程序中的处理顺序。
可维护性 - Spring批量应用程序易于维护。Spring Batch作业包括步骤，每个步骤都可以进行分离，测试和更新，而不影响其他步骤。
可伸缩性 - 使用分区技术，您可以缩放Spring Batch应用程序。这些技术可以让你 -
  并行执行作业的步骤。
  并行执行单个线程。
可靠性 - 如果发生任何故障，您可以通过将步骤分离，从完全停止的地方重新开始工作。
支持多种文件格式 - Spring Batch为XML，Flat文件，CSV，MYSQL，Hibernate，JDBC，Mongo，Neo4j等大量读者和作者提供支持。
多种启动作业的方式 - 您可以使用Web应用程序，Java程序，命令行等来启动Spring Batch作业。

除此之外，Spring Batch应用程序支持 -
* 失败后自动重试。
* 跟踪批次执行过程中和完成批次处理后的状态和统计数据。
* 运行并行作业。
* 诸如日志记录，资源管理，跳过和重新启动处理等服务。

SpringBatch 是一个大数据量的并行处理框架。通常用于数据的离线迁移，和数据处理，⽀持事务、并发、流程、监控、纵向和横向扩展，提供统⼀的接⼝管理和任务管理;SpringBatch是SpringSource和埃森哲为了统一业界并行处理标准为广大开发者提供方便开发的一套框架。

官方地址：https://github.com/spring-projects/spring-batch

* SpringBatch 本身提供了重试，异常处理，跳过，重启、任务处理统计，资源管理等特性，这些特性开发者看重他的主要原因;
* SpringBatch 是一个轻量级的批处理框架;
* SpringBatch 结构分层，业务与处理策略、结构分离;
* 任务的运行的实例状态，执行数据，参数都会落地到数据库;

# Spring Batch的分层架构
* Insfrastructure 策略管理：包括任务的失败重试，异常处理,事务，skip,以及数据的输入输出（文本文件，DB，Message）,此组件包含应用程序和批处理核心组件使用的读取器，编写器和服务。
* Core: springBatch 的核心，包括JobLauch,job,step等等,该组件包含控制和启动批作业所需的所有API类。
* Application: 业务处理，创建任务，决定任务的执行方式（定时任务，手动触发等）

在Spring Batch框架中，一个任务Job由一个或者多个步骤Step，而步骤又由读操作Reader、处理操作Processor、写操作Writer组成

读操作需要实现ItemReader<T>接口，框架提供了一个现成的实现类FlatFileItemReader。使用该类需要设置Resource和LineMapper。Resource代表着数据源，即我们的batch-data.csv文件；LineMapper则表示如何将文件的每行数据转成对应的DTO对象。
